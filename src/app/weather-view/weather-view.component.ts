import { HttpClient } from '@angular/common/http';
import { Component, OnInit } from '@angular/core';
import { map } from 'rxjs';
import { WeatherObject } from '../WeatherObject';

@Component({
  selector: 'app-weather-view',
  templateUrl: './weather-view.component.html',
  styleUrls: ['./weather-view.component.scss']
})
export class WeatherViewComponent implements OnInit {
  
 
  constructor(private http:HttpClient){
      
  }
  ngOnInit(): void {
   this.getData();
  }

  dataSource = [1,2,3,4];
  displayedColumns: string[] = ['position'];

   getData(){
   var WeatherSet = new Set<WeatherObject>();
    let data = JSON.parse('{"latitude":20.75,"longitude":77.125,"generationtime_ms":0.20396709442138672,"utc_offset_seconds":7200,"timezone":"Africa/Cairo","timezone_abbreviation":"EET","elevation":266.0,"hourly_units":{"time":"iso8601","temperature_2m":"Â°C"},"hourly":{"time":["2023-03-06T00:00","2023-03-06T01:00","2023-03-06T02:00","2023-03-06T03:00","2023-03-06T04:00","2023-03-06T05:00","2023-03-06T06:00","2023-03-06T07:00","2023-03-06T08:00","2023-03-06T09:00","2023-03-06T10:00","2023-03-06T11:00","2023-03-06T12:00","2023-03-06T13:00","2023-03-06T14:00","2023-03-06T15:00","2023-03-06T16:00","2023-03-06T17:00","2023-03-06T18:00","2023-03-06T19:00","2023-03-06T20:00","2023-03-06T21:00","2023-03-06T22:00","2023-03-06T23:00","2023-03-07T00:00","2023-03-07T01:00","2023-03-07T02:00","2023-03-07T03:00","2023-03-07T04:00","2023-03-07T05:00","2023-03-07T06:00","2023-03-07T07:00","2023-03-07T08:00","2023-03-07T09:00","2023-03-07T10:00","2023-03-07T11:00","2023-03-07T12:00","2023-03-07T13:00","2023-03-07T14:00","2023-03-07T15:00","2023-03-07T16:00","2023-03-07T17:00","2023-03-07T18:00","2023-03-07T19:00","2023-03-07T20:00","2023-03-07T21:00","2023-03-07T22:00","2023-03-07T23:00","2023-03-08T00:00","2023-03-08T01:00","2023-03-08T02:00","2023-03-08T03:00","2023-03-08T04:00","2023-03-08T05:00","2023-03-08T06:00","2023-03-08T07:00","2023-03-08T08:00","2023-03-08T09:00","2023-03-08T10:00","2023-03-08T11:00","2023-03-08T12:00","2023-03-08T13:00","2023-03-08T14:00","2023-03-08T15:00","2023-03-08T16:00","2023-03-08T17:00","2023-03-08T18:00","2023-03-08T19:00","2023-03-08T20:00","2023-03-08T21:00","2023-03-08T22:00","2023-03-08T23:00","2023-03-09T00:00","2023-03-09T01:00","2023-03-09T02:00","2023-03-09T03:00","2023-03-09T04:00","2023-03-09T05:00","2023-03-09T06:00","2023-03-09T07:00","2023-03-09T08:00","2023-03-09T09:00","2023-03-09T10:00","2023-03-09T11:00","2023-03-09T12:00","2023-03-09T13:00","2023-03-09T14:00","2023-03-09T15:00","2023-03-09T16:00","2023-03-09T17:00","2023-03-09T18:00","2023-03-09T19:00","2023-03-09T20:00","2023-03-09T21:00","2023-03-09T22:00","2023-03-09T23:00","2023-03-10T00:00","2023-03-10T01:00","2023-03-10T02:00","2023-03-10T03:00","2023-03-10T04:00","2023-03-10T05:00","2023-03-10T06:00","2023-03-10T07:00","2023-03-10T08:00","2023-03-10T09:00","2023-03-10T10:00","2023-03-10T11:00","2023-03-10T12:00","2023-03-10T13:00","2023-03-10T14:00","2023-03-10T15:00","2023-03-10T16:00","2023-03-10T17:00","2023-03-10T18:00","2023-03-10T19:00","2023-03-10T20:00","2023-03-10T21:00","2023-03-10T22:00","2023-03-10T23:00","2023-03-11T00:00","2023-03-11T01:00","2023-03-11T02:00","2023-03-11T03:00","2023-03-11T04:00","2023-03-11T05:00","2023-03-11T06:00","2023-03-11T07:00","2023-03-11T08:00","2023-03-11T09:00","2023-03-11T10:00","2023-03-11T11:00","2023-03-11T12:00","2023-03-11T13:00","2023-03-11T14:00","2023-03-11T15:00","2023-03-11T16:00","2023-03-11T17:00","2023-03-11T18:00","2023-03-11T19:00","2023-03-11T20:00","2023-03-11T21:00","2023-03-11T22:00","2023-03-11T23:00","2023-03-12T00:00","2023-03-12T01:00","2023-03-12T02:00","2023-03-12T03:00","2023-03-12T04:00","2023-03-12T05:00","2023-03-12T06:00","2023-03-12T07:00","2023-03-12T08:00","2023-03-12T09:00","2023-03-12T10:00","2023-03-12T11:00","2023-03-12T12:00","2023-03-12T13:00","2023-03-12T14:00","2023-03-12T15:00","2023-03-12T16:00","2023-03-12T17:00","2023-03-12T18:00","2023-03-12T19:00","2023-03-12T20:00","2023-03-12T21:00","2023-03-12T22:00","2023-03-12T23:00"],"temperature_2m":[23.4,22.8,22.4,22.2,22.6,25.4,28.5,31.2,31.8,33.5,34.1,34.1,33.4,32.6,30.3,28.6,27.2,26.1,25.3,25.1,24.8,24.1,23.5,23.1,22.9,22.5,22.4,22.2,22.5,24.1,25.9,27.4,29.1,30.7,32.1,31.4,31.1,30.6,30.3,28.3,26.9,25.5,24.3,23.5,22.9,22.3,21.7,21.3,20.8,20.4,20.2,19.8,20.1,22.4,24.9,27.3,29.4,31.2,32.5,33.4,33.7,33.4,32.7,31.0,28.8,27.6,26.6,25.6,24.9,24.3,23.7,23.2,22.3,21.9,21.9,21.9,22.0,24.2,26.9,29.5,31.3,32.8,33.8,34.0,34.5,34.1,33.3,32.0,30.3,28.3,27.4,26.8,26.0,25.1,24.1,23.1,22.5,22.0,21.8,22.1,22.7,24.2,26.3,29.0,32.0,33.3,34.2,34.7,34.8,34.5,33.5,32.3,30.7,28.6,27.4,26.2,24.8,24.0,23.4,22.7,22.1,21.5,21.3,21.7,22.4,24.2,26.9,30.2,33.6,35.9,36.6,36.9,36.8,36.4,35.3,34.0,32.5,30.4,28.8,27.2,25.5,24.7,24.1,23.5,22.8,22.1,21.8,22.3,23.3,25.4,28.1,31.5,35.2,36.6,37.3,37.6,37.6,37.2,36.0,34.5,32.4,30.1,29.0,28.3,27.4,26.5,25.5,24.4]}}');
    let lat  = 5;
    let lng = 9;
    let url = 'https://api.open-meteo.com/v1/forecast?latitude=20.80&longitude=77.09&hourly=temperature_2m&timezone=Africa%2FCairo';
    var x =  this.http.get(url)
    .pipe(map( (obj) => {
     console.log(obj);
    }))
    .subscribe();


      //WeatherSet.add({lat:lat ,  lng:lng , temp:3 , city : 'khobar'})
   }
  

}
